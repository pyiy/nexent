# 本地工具

Nexent平台提供了丰富的本地工具，帮助智能体完成各种系统级任务和本地操作。这些工具通过与本地系统或远程服务器的直接交互，为智能体提供了强大的执行能力。

## 🛠️ 可用工具

Nexent预置了一组可以直接复用的本地工具。它们按照能力分为邮件、文件、搜索、多模态三大类，Terminal 工具则作为远程 Shell 能力单独提供。下方列出各工具的名称与核心特性，方便在 Agent 中快速定位所需能力。

### 📧 邮件工具（Email）

- **get_email**：通过 IMAP 协议拉取邮箱内容，支持按天数限定时间范围、按发件人精确过滤，并可限制一次返回的邮件数量。工具会自动处理多语言主题与正文解码，结果包含主题、时间、发件人、正文摘要等字段，便于 Agent 做进一步分析。
- **send_email**：基于 SMTP 发送 HTML 格式邮件，支持同时指定多个收件人、抄送（CC）、密送（BCC），并可自定义发件人展示名。所有连接都走 SSL/TLS，发送结果会提示投递状态和主题，方便记录。

### 📂 文件工具（File）

- **create_directory**：在指定相对路径下创建多级目录，自动跳过已存在的层级，并返回创建结果与最终绝对路径。
- **create_file**：新建文件并写入内容，如果父级目录不存在会自动创建；支持自定义编码（默认 UTF-8）和空内容文件。
- **read_file**：读取文本文件内容并返回文件大小、行数、编码等元信息，在文件过大时会提醒（10MB 安全阈值）。
- **list_directory**：以树状结构列出目录内容，可控制最大递归深度、是否展示隐藏文件和文件大小，输出同时包含可视化字符串和结构化 JSON，适合用于展示项目结构。
- **move_item**：在工作空间内移动文件或文件夹，自动创建目标目录，避免目标已存在导致覆盖，并在结果中给出移动的项目数量和大小。
- **delete_file**：删除单个文件，包含权限与存在性校验，失败时会给出明确错误信息。
- **delete_directory**：递归删除目录及其内容，带有目录存在性、权限和安全校验，删除后返回被删除的相对路径。

> 所有文件路径都需要是工作空间内的相对路径（默认 `/mnt/nexent`），工具会自动校验防止越界访问。

### 🔍 搜索工具（Search）

- **knowledge_base_search**：对接本地知识库索引，支持 `hybrid`、`accurate`、`semantic` 三种检索模式，可按索引名称筛选。返回结果附带来源、得分、引用序号，适合回答私有文档或行业资料问题。
- **exa_search**：调用 EXA API 进行实时全网搜索，可配置返回条数并支持附带图片链接（默认在服务端进一步筛选）。需要在工具配置中填写 EXA API Key，前往 [exa.ai](https://exa.ai/) 注册即可免费获取。
- **tavily_search**：基于 Tavily API 的网页搜索，擅长新闻、实时资讯查询，同时返回文本结果和相关图片 URL，同样支持可选的图片过滤能力，可在 [tavily.com](https://www.tavily.com/) 免费申请 API Key。
- **linkup_search**：使用 Linkup API 获取文本与图片结果，除了普通网页内容，还能返回纯图片结果，适合需要图文混合参考的场景。访问 [linkup.so](https://www.linkup.so/) 注册获取免费的 API Key。


### 🖼️ 多模态工具（Multimodal）

- **analyze_text_file**：基于用户提问和文本文件的s3 url、http url、https url，解析文件并使用大语言模型理解文件，回答用户问题。需要在模型管理页面配置可用的大语言模型。
- **analyze_image**：基于用户提问和图片的s3 url、http url、https url，使用视觉语言模型分析理解图像，回答用户问题。需要在模型管理页面配置可用的视觉语言模型。

### 🖥️ Terminal工具

**Terminal工具** 是 Nexent 平台的核心本地工具之一，提供持久化 SSH 会话能力，可在 Agent 中执行远程命令、进行系统巡检、读取日志或部署服务。详细的部署、参数和安全指引请查看专门的 [Terminal 使用手册](./terminal-tool.md)。

## 🔧 工具配置

所有本地工具都需要在智能体开发中进行设置：

1. 进入 **[智能体开发](../agent-development)** 页面
2. 选择要配置的智能体
3. 在"选择Agent的工具"页签中找到相应的本地工具
4. 点击配置按钮，填写必要的连接参数
5. 测试连接确保配置正确
6. 保存配置并启用工具

## ⚠️ 安全注意事项

使用本地工具时，请务必注意以下安全事项：

- **权限控制**：为工具创建专用用户，遵循最小权限原则
- **网络安全**：使用VPN或IP白名单限制访问
- **认证安全**：优先使用密钥认证，定期更换密钥
- **命令限制**：在生产环境中配置命令白名单
- **审计日志**：启用详细的操作日志记录

如果您使用本地工具过程中遇到任何问题，请在[GitHub Discussions](https://github.com/ModelEngine-Group/nexent/discussions)中进行提问获取支持。